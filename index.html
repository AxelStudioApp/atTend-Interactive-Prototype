<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>atTend - Prototipe Interaktif</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Chosen Palette: atTend Palette (Biru Tua, Biru Cerah, Hijau, Oranye, Merah, Skala Abu-abu) -->
    <!-- Application Structure Plan: Menggunakan struktur Single-Page Application (SPA) dengan beberapa div yang berfungsi sebagai "layar". JavaScript akan mengontrol visibilitas setiap layar untuk mensimulasikan navigasi antar halaman, memberikan pengalaman seperti aplikasi native. Struktur ini dipilih untuk menciptakan prototipe interaktif yang cepat dan efisien dalam satu file, mengikuti alur pengguna yang logis dari login, dashboard, hingga fitur pengajuan dan persetujuan atasan, sesuai dengan panduan UI/UX. -->
    <!-- Visualization & Content Choices: Mengimplementasikan elemen UI dari panduan (kartu, tombol, formulir, daftar) menggunakan HTML dan Tailwind CSS. Tampilan daftar seperti riwayat pengajuan dan persetujuan atasan menggunakan layout flexbox/grid untuk menyajikan data secara terstruktur. Interaksi seperti timer OTP, simulasi absensi wajah, navigasi antar layar, dan simulasi persetujuan diimplementasikan dengan JavaScript untuk membuat prototipe terasa hidup dan memberikan gambaran desain yang lengkap. Tidak ada visualisasi data (chart) yang diperlukan. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .screen {
            display: none;
            min-height: 100vh;
            flex-direction: column;
        }
        .active-screen {
            display: flex;
        }
        .otp-input {
            width: 48px;
            height: 56px;
            text-align: center;
            font-size: 1.5rem;
            border: 1px solid #DCE1E7;
            border-radius: 8px;
            background-color: #FFFFFF;
            transition: border-color 0.2s;
        }
        .otp-input:focus {
            outline: none;
            border-color: #3498DB;
        }
        .nav-bottom.active {
            color: #3498DB;
        }
    </style>
</head>
<body class="bg-gray-200 flex justify-center">

    <main id="app-container" class="w-full max-w-md min-h-screen bg-[#F5F7FA] shadow-2xl overflow-y-auto relative">

        <!-- ===== Layar 1: Login ===== -->
        <div id="screen-login" class="screen active-screen p-6 justify-center">
            <div class="text-center mb-12">
                <h1 class="text-4xl font-bold text-[#2C3E50]">atTend</h1>
            </div>
            <div class="text-left mb-8">
                <h2 class="text-3xl font-bold text-[#34495E]">Selamat Datang</h2>
                <p class="text-[#7F8C8D] mt-1">Silakan masuk untuk melanjutkan.</p>
            </div>
            <div class="space-y-6">
                <div>
                    <label for="nip" class="block text-sm font-medium text-[#34495E] mb-1">Nomor Induk Pegawai (NIP)</label>
                    <input type="text" id="nip" placeholder="Masukkan NIP Anda" class="w-full h-14 px-4 rounded-lg border border-[#DCE1E7] focus:ring-2 focus:ring-[#3498DB] focus:outline-none text-[#34495E]">
                </div>
                <button id="btn-login-lanjut" class="w-full bg-[#3498DB] text-white h-14 rounded-xl font-bold text-lg hover:bg-blue-600 transition-colors">Lanjut</button>
            </div>
            <div class="text-center mt-6">
                <a href="#" class="text-sm font-medium text-[#7F8C8D] hover:text-[#3498DB]">Lupa NIP?</a>
            </div>
        </div>

        <!-- ===== Layar 2: Verifikasi OTP ===== -->
        <div id="screen-otp" class="screen p-6">
            <div class="flex items-center mb-12">
                <button class="nav-back text-2xl text-[#34495E] mr-4">‚Äπ</button>
                <h2 class="text-xl font-bold text-[#34495E] text-center flex-grow">Verifikasi OTP</h2>
            </div>
            <div class="text-center">
                <p class="text-[#34495E] mb-2">Kami telah mengirimkan kode 6 digit ke:</p>
                <p class="font-bold text-[#34495E]">a***@perusahaan.com</p>
            </div>
            <div class="flex justify-center space-x-3 my-8">
                <input type="tel" maxlength="1" class="otp-input" data-otp-index="0">
                <input type="tel" maxlength="1" class="otp-input" data-otp-index="1">
                <input type="tel" maxlength="1" class="otp-input" data-otp-index="2">
                <input type="tel" maxlength="1" class="otp-input" data-otp-index="3">
                <input type="tel" maxlength="1" class="otp-input" data-otp-index="4">
                <input type="tel" maxlength="1" class="otp-input" data-otp-index="5">
            </div>
            <div class="text-center text-sm text-[#7F8C8D] mb-8">
                <span id="otp-timer-text">Kirim ulang OTP dalam <span id="otp-timer" class="font-bold">30</span> detik</span>
                <button id="btn-resend-otp" class="hidden font-bold text-[#3498DB] hover:underline">Kirim ulang OTP</button>
            </div>
            <button id="btn-verifikasi" class="w-full bg-[#3498DB] text-white h-14 rounded-xl font-bold text-lg hover:bg-blue-600 transition-colors">Verifikasi</button>
             <div class="text-center mt-6">
                <a href="#" class="nav-back-login text-sm font-medium text-[#3498DB] hover:underline">Bukan Anda? Kembali ke Login</a>
            </div>
        </div>

        <!-- ===== Layar 3 & 4: Dashboard (Konten dinamis) ===== -->
        <div id="screen-dashboard" class="screen flex-grow pb-24">
            <div class="p-6">
                <div class="flex items-center justify-between mb-8">
                    <div class="flex items-center">
                        <div class="w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center font-bold text-xl text-gray-600">R</div>
                        <div class="ml-4">
                            <p class="font-bold text-lg text-[#34495E]">Halo, Rian!</p>
                            <p class="text-sm text-[#7F8C8D]">Software Engineer</p>
                        </div>
                    </div>
                     <div class="text-right">
                        <p id="current-date" class="font-semibold text-sm text-[#34495E]"></p>
                        <p id="current-time" class="text-xs text-[#7F8C8D]"></p>
                    </div>
                </div>

                <div id="dashboard-card" class="p-6 bg-white rounded-2xl shadow-md text-center">
                    <!-- Konten Kartu dinamis dari JS -->
                </div>
                 <div class="mt-8 p-6 bg-white rounded-2xl shadow-md">
                    <h3 class="font-semibold text-lg text-[#34495E] mb-4">Informasi Cepat</h3>
                    <div class="grid grid-cols-2 gap-4 text-center">
                        <div>
                            <p class="text-3xl font-bold text-[#27AE60]">12</p>
                            <p class="text-sm text-[#7F8C8D]">Sisa Cuti</p>
                        </div>
                        <div>
                            <p class="text-3xl font-bold text-[#F39C12]">3</p>
                            <p class="text-sm text-[#7F8C8D]">Pengajuan Pending</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Navigasi Bawah -->
            <div class="fixed bottom-0 left-0 right-0 max-w-md mx-auto h-20 bg-white shadow-[0_-5px_15px_-5px_rgba(0,0,0,0.1)] flex justify-around items-center rounded-t-2xl z-10">
                <button class="nav-bottom flex flex-col items-center text-[#3498DB] active" data-target="screen-dashboard">
                    <span class="text-3xl">‚åÇ</span>
                    <span class="block text-xs font-semibold">Beranda</span>
                </button>
                <button class="nav-bottom flex flex-col items-center text-[#7F8C8D]" data-target="screen-history">
                    <span class="text-3xl">üóÇÔ∏è</span>
                    <span class="block text-xs font-semibold">Riwayat</span>
                </button>
                <button class="nav-bottom flex flex-col items-center text-[#7F8C8D]" data-target="screen-submission-choice">
                     <span class="text-3xl">‚úçÔ∏è</span>
                    <span class="block text-xs font-semibold">Pengajuan</span>
                </button>
                 <button class="nav-bottom flex flex-col items-center text-[#7F8C8D]" data-target="screen-profile">
                     <span class="text-3xl">üë§</span>
                    <span class="block text-xs font-semibold">Profil</span>
                </button>
            </div>
        </div>
        
        <!-- ===== Layar 5: Face Recognition ===== -->
        <div id="screen-face-rec" class="screen bg-black h-screen justify-center items-center p-6">
             <div class="absolute top-0 left-0 right-0 p-6 flex items-center text-white z-10">
                <button class="nav-back text-2xl mr-4">‚Äπ</button>
                <h2 class="text-xl font-bold text-center flex-grow">Absensi Wajah</h2>
            </div>
            <div class="relative w-80 h-80 border-4 border-dashed border-white rounded-full flex items-center justify-center bg-gray-800/50">
                 <p id="face-rec-status" class="text-white text-lg">Posisikan wajah Anda</p>
                 <div id="face-rec-spinner" class="absolute inset-0 flex items-center justify-center hidden">
                     <div class="w-16 h-16 border-4 border-t-4 border-blue-500 border-solid rounded-full animate-spin"></div>
                 </div>
            </div>
             <p class="text-white text-center mt-4">Mohon pastikan pencahayaan cukup dan wajah terlihat jelas.</p>
        </div>
        
        <!-- ===== Layar 6: Pilihan Pengajuan ===== -->
        <div id="screen-submission-choice" class="screen p-6 pb-24">
            <div class="flex items-center mb-8">
                <button class="nav-back text-2xl text-[#34495E] mr-4">‚Äπ</button>
                <h2 class="text-xl font-bold text-[#34495E] text-center flex-grow">Pengajuan</h2>
            </div>
            <div class="space-y-4">
                <div class="submission-item bg-white p-4 rounded-xl shadow-sm flex items-center justify-between cursor-pointer hover:bg-gray-50 transition" data-target="screen-override-form">
                    <div class="flex items-center">
                        <div class="text-3xl mr-4">üîß</div>
                        <div>
                            <p class="font-semibold text-[#34495E]">Pengajuan Override</p>
                            <p class="text-xs text-[#7F8C8D]">Koreksi absensi yang terlewat.</p>
                        </div>
                    </div>
                    <span class="text-xl text-[#7F8C8D]">‚Ä∫</span>
                </div>
                <div class="submission-item bg-white p-4 rounded-xl shadow-sm flex items-center justify-between cursor-pointer hover:bg-gray-50 transition" data-target="screen-leave-form">
                    <div class="flex items-center">
                        <div class="text-3xl mr-4">üåø</div>
                        <div>
                            <p class="font-semibold text-[#34495E]">Pengajuan Cuti</p>
                            <p class="text-xs text-[#7F8C8D]">Ajukan cuti dan jenis cuti.</p>
                        </div>
                    </div>
                    <span class="text-xl text-[#7F8C8D]">‚Ä∫</span>
                </div>
                <div class="submission-item bg-white p-4 rounded-xl shadow-sm flex items-center justify-between cursor-pointer hover:bg-gray-50 transition" data-target="screen-overtime-form">
                    <div class="flex items-center">
                        <div class="text-3xl mr-4">‚ûï</div>
                        <div>
                            <p class="font-semibold text-[#34495E]">Pengajuan Lembur</p>
                            <p class="text-xs text-[#7F8C8D]">Ajukan jam kerja lembur.</p>
                        </div>
                    </div>
                    <span class="text-xl text-[#7F8C8D]">‚Ä∫</span>
                </div>
                <div class="submission-item bg-white p-4 rounded-xl shadow-sm flex items-center justify-between cursor-pointer hover:bg-gray-50 transition" data-target="screen-manager-approval-list">
                    <div class="flex items-center">
                        <div class="text-3xl mr-4">üë®‚Äçüíº</div>
                        <div>
                            <p class="font-semibold text-[#34495E]">Persetujuan Atasan</p>
                            <p class="text-xs text-[#7F8C8D]">Tinjau pengajuan bawahan.</p>
                        </div>
                    </div>
                    <span class="text-xl text-[#7F8C8D]">‚Ä∫</span>
                </div>
            </div>
        </div>

        <!-- ===== Layar 7a: Formulir Pengajuan Cuti (Contoh Detail) ===== -->
        <div id="screen-leave-form" class="screen p-6 pb-24">
            <div class="flex items-center mb-8">
                <button class="nav-back text-2xl text-[#34495E] mr-4">‚Äπ</button>
                <h2 class="text-xl font-bold text-[#34495E] text-center flex-grow">Pengajuan Cuti</h2>
            </div>
            <div class="space-y-5">
                <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Jenis Cuti</label>
                    <select class="w-full h-14 px-3 rounded-lg border border-[#DCE1E7] bg-white text-[#34495E] focus:ring-2 focus:ring-[#3498DB] focus:outline-none">
                        <option>Cuti Tahunan</option>
                        <option>Cuti Sakit</option>
                        <option>Cuti Pribadi</option>
                        <option>Cuti Melahirkan</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Tanggal Mulai</label>
                    <input type="date" class="w-full h-14 px-3 rounded-lg border border-[#DCE1E7] text-[#34495E] focus:ring-2 focus:ring-[#3498DB] focus:outline-none">
                </div>
                 <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Tanggal Selesai</label>
                    <input type="date" class="w-full h-14 px-3 rounded-lg border border-[#DCE1E7] text-[#34495E] focus:ring-2 focus:ring-[#3498DB] focus:outline-none">
                </div>
                <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Alasan Cuti</label>
                    <textarea placeholder="Tulis alasan Anda..." class="w-full h-28 p-3 rounded-lg border border-[#DCE1E7] text-[#34495E] focus:ring-2 focus:ring-[#3498DB] focus:outline-none resize-none"></textarea>
                </div>
                <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Atasan untuk Persetujuan</label>
                    <select class="w-full h-14 px-3 rounded-lg border border-[#DCE1E7] bg-white text-[#34495E] focus:ring-2 focus:ring-[#3498DB] focus:outline-none">
                        <option>Pilih Atasan</option>
                        <option>Budi Santoso (Manager)</option>
                        <option>Citra Dewi (Head of Dept)</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Dokumen Pendukung (Opsional)</label>
                    <div class="flex items-center justify-center h-14 border-2 border-dashed border-[#DCE1E7] rounded-lg bg-gray-50 text-[#7F8C8D] cursor-pointer hover:bg-gray-100 transition">
                        <span>Unggah File (PDF, JPG)</span>
                        <input type="file" class="hidden">
                    </div>
                </div>
                <button id="btn-submit-leave" class="w-full bg-[#3498DB] text-white h-14 rounded-xl font-bold text-lg hover:bg-blue-600 transition-colors">Ajukan</button>
            </div>
        </div>

        <!-- ===== Layar 7b: Formulir Pengajuan Override (Simulasi) ===== -->
        <div id="screen-override-form" class="screen p-6 pb-24">
            <div class="flex items-center mb-8">
                <button class="nav-back text-2xl text-[#34495E] mr-4">‚Äπ</button>
                <h2 class="text-xl font-bold text-[#34495E] text-center flex-grow">Pengajuan Override</h2>
            </div>
            <div class="space-y-5">
                <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Tanggal Absensi</label>
                    <input type="date" class="w-full h-14 px-3 rounded-lg border border-[#DCE1E7] text-[#34495E]">
                </div>
                <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Jam Seharusnya Clock In</label>
                    <input type="time" class="w-full h-14 px-3 rounded-lg border border-[#DCE1E7] text-[#34495E]">
                </div>
                 <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Jam Seharusnya Clock Out</label>
                    <input type="time" class="w-full h-14 px-3 rounded-lg border border-[#DCE1E7] text-[#34495E]">
                </div>
                <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Alasan Override</label>
                    <textarea placeholder="Contoh: Lupa clock-in, sistem error..." class="w-full h-28 p-3 rounded-lg border border-[#DCE1E7] text-[#34495E] resize-none"></textarea>
                </div>
                <button id="btn-submit-override" class="w-full bg-[#3498DB] text-white h-14 rounded-xl font-bold text-lg hover:bg-blue-600 transition-colors">Ajukan Override</button>
            </div>
        </div>

        <!-- ===== Layar 7c: Formulir Pengajuan Overtime (Simulasi) ===== -->
        <div id="screen-overtime-form" class="screen p-6 pb-24">
            <div class="flex items-center mb-8">
                <button class="nav-back text-2xl text-[#34495E] mr-4">‚Äπ</button>
                <h2 class="text-xl font-bold text-[#34495E] text-center flex-grow">Pengajuan Lembur</h2>
            </div>
            <div class="space-y-5">
                <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Tanggal Lembur</label>
                    <input type="date" class="w-full h-14 px-3 rounded-lg border border-[#DCE1E7] text-[#34495E]">
                </div>
                <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Jam Mulai Lembur</label>
                    <input type="time" class="w-full h-14 px-3 rounded-lg border border-[#DCE1E7] text-[#34495E]">
                </div>
                 <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Jam Selesai Lembur</label>
                    <input type="time" class="w-full h-14 px-3 rounded-lg border border-[#DCE1E7] text-[#34495E]">
                </div>
                <div>
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Deskripsi Pekerjaan Lembur</label>
                    <textarea placeholder="Jelaskan pekerjaan yang dilakukan saat lembur..." class="w-full h-28 p-3 rounded-lg border border-[#DCE1E7] text-[#34495E] resize-none"></textarea>
                </div>
                <button id="btn-submit-overtime" class="w-full bg-[#3498DB] text-white h-14 rounded-xl font-bold text-lg hover:bg-blue-600 transition-colors">Ajukan Lembur</button>
            </div>
        </div>

        <!-- ===== Layar 8: Riwayat Pengajuan ===== -->
        <div id="screen-history" class="screen p-6 pb-24">
            <div class="flex items-center mb-8">
                <button class="nav-back text-2xl text-[#34495E] mr-4">‚Äπ</button>
                <h2 class="text-xl font-bold text-[#34495E] text-center flex-grow">Riwayat Pengajuan</h2>
            </div>
            <div class="space-y-4">
                <div class="bg-white p-4 rounded-xl shadow-sm">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-semibold text-[#34495E]">Cuti Tahunan</p>
                            <p class="text-xs text-[#7F8C8D]">Diajukan: 2025-06-25</p>
                        </div>
                        <span class="text-xs font-bold text-[#27AE60] bg-green-100 px-2 py-1 rounded-full">Disetujui</span>
                    </div>
                    <p class="text-sm text-[#34495E] mt-2">Alasan: Liburan keluarga.</p>
                </div>
                 <div class="bg-white p-4 rounded-xl shadow-sm">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-semibold text-[#34495E]">Pengajuan Lembur</p>
                            <p class="text-xs text-[#7F8C8D]">Diajukan: 2025-06-20</p>
                        </div>
                        <span class="text-xs font-bold text-[#E74C3C] bg-red-100 px-2 py-1 rounded-full">Ditolak</span>
                    </div>
                    <p class="text-sm text-[#34495E] mt-2">Durasi: 2 jam. Keterangan: Proyek tidak mendesak.</p>
                </div>
                 <div class="bg-white p-4 rounded-xl shadow-sm">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-semibold text-[#34495E]">Pengajuan Override</p>
                            <p class="text-xs text-[#7F8C8D]">Diajukan: 2025-06-18</p>
                        </div>
                        <span class="text-xs font-bold text-[#F39C12] bg-yellow-100 px-2 py-1 rounded-full">Menunggu</span>
                    </div>
                    <p class="text-sm text-[#34495E] mt-2">Keterangan: Lupa clock-in.</p>
                </div>
                 <div class="bg-white p-4 rounded-xl shadow-sm">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-semibold text-[#34495E]">Cuti Sakit</p>
                            <p class="text-xs text-[#7F8C8D]">Diajukan: 2025-06-10</p>
                        </div>
                        <span class="text-xs font-bold text-[#27AE60] bg-green-100 px-2 py-1 rounded-full">Disetujui</span>
                    </div>
                    <p class="text-sm text-[#34495E] mt-2">Alasan: Demam tinggi (terlampir surat dokter).</p>
                </div>
            </div>
        </div>
        
        <!-- ===== Layar 9: Profil Pengguna (Simulasi) ===== -->
        <div id="screen-profile" class="screen p-6 pb-24">
            <div class="flex items-center mb-8">
                <button class="nav-back text-2xl text-[#34495E] mr-4">‚Äπ</button>
                <h2 class="text-xl font-bold text-[#34495E] text-center flex-grow">Profil Saya</h2>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-md text-center">
                <div class="w-24 h-24 rounded-full bg-blue-100 mx-auto mb-4 flex items-center justify-center font-bold text-4xl text-[#3498DB]">R</div>
                <h3 class="text-xl font-bold text-[#34495E]">Rian Pratama</h3>
                <p class="text-sm text-[#7F8C8D] mb-4">Software Engineer - ID: 123456</p>
                <div class="border-t border-gray-200 pt-4 mt-4 text-left">
                    <p class="text-sm text-[#34495E] mb-2"><span class="font-semibold">Email:</span> rian.pratama@example.com</p>
                    <p class="text-sm text-[#34495E] mb-2"><span class="font-semibold">Departemen:</span> IT</p>
                    <p class="text-sm text-[#34495E] mb-2"><span class="font-semibold">Bergabung Sejak:</span> 1 Januari 2023</p>
                </div>
            </div>
            <button id="btn-logout" class="w-full bg-[#E74C3C] text-white h-14 rounded-xl font-bold text-lg mt-8 hover:bg-red-600 transition-colors">Keluar</button>
        </div>

        <!-- ===== Layar 10: Persetujuan Atasan (Daftar Pengajuan) ===== -->
        <div id="screen-manager-approval-list" class="screen p-6 pb-24">
            <div class="flex items-center mb-8">
                <button class="nav-back text-2xl text-[#34495E] mr-4">‚Äπ</button>
                <h2 class="text-xl font-bold text-[#34495E] text-center flex-grow">Persetujuan Pengajuan</h2>
            </div>
            <div class="space-y-4">
                <div class="bg-white p-4 rounded-xl shadow-sm cursor-pointer hover:bg-gray-50 transition" data-target="screen-manager-approval-detail" data-approval-type="Cuti" data-applicant="Indah Sari" data-date="2025-06-28" data-reason="Liburan Keluarga">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-semibold text-[#34495E]">Cuti Tahunan</p>
                            <p class="text-xs text-[#7F8C8D]">Dari: Indah Sari</p>
                        </div>
                        <span class="text-xs font-bold text-[#F39C12] bg-yellow-100 px-2 py-1 rounded-full">Menunggu</span>
                    </div>
                    <p class="text-sm text-[#34495E] mt-2">Periode: 1 - 5 Juli 2025</p>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-sm cursor-pointer hover:bg-gray-50 transition" data-target="screen-manager-approval-detail" data-approval-type="Lembur" data-applicant="Adi Wijaya" data-date="2025-06-27" data-reason="Penyelesaian Proyek Urgent">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-semibold text-[#34495E]">Pengajuan Lembur</p>
                            <p class="text-xs text-[#7F8C8D]">Dari: Adi Wijaya</p>
                        </div>
                        <span class="text-xs font-bold text-[#F39C12] bg-yellow-100 px-2 py-1 rounded-full">Menunggu</span>
                    </div>
                    <p class="text-sm text-[#34495E] mt-2">Durasi: 3 jam (20:00 - 23:00)</p>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-sm cursor-pointer hover:bg-gray-50 transition" data-target="screen-manager-approval-detail" data-approval-type="Override" data-applicant="Siti Aminah" data-date="2025-06-26" data-reason="Lupa Clock Out">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-semibold text-[#34495E]">Override Absensi</p>
                            <p class="text-xs text-[#7F8C8D]">Dari: Siti Aminah</p>
                        </div>
                        <span class="text-xs font-bold text-[#F39C12] bg-yellow-100 px-2 py-1 rounded-full">Menunggu</span>
                    </div>
                    <p class="text-sm text-[#34495E] mt-2">Tanggal: 26 Juni, Masuk: 09:00, Pulang: 17:00</p>
                </div>
            </div>
        </div>

        <!-- ===== Layar 11: Persetujuan Atasan (Detail Pengajuan) ===== -->
        <div id="screen-manager-approval-detail" class="screen p-6 pb-24">
            <div class="flex items-center mb-8">
                <button class="nav-back text-2xl text-[#34495E] mr-4">‚Äπ</button>
                <h2 class="text-xl font-bold text-[#34495E] text-center flex-grow">Detail Pengajuan</h2>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-md">
                <h3 id="detail-type" class="text-xl font-bold text-[#34495E] mb-4"></h3>
                <div class="space-y-3 text-[#34495E]">
                    <p><span class="font-semibold">Pengaju:</span> <span id="detail-applicant"></span></p>
                    <p><span class="font-semibold">Tanggal Diajukan:</span> <span id="detail-date"></span></p>
                    <p><span class="font-semibold">Alasan/Keterangan:</span> <span id="detail-reason"></span></p>
                    <p id="detail-period-or-duration" class=""></p>
                </div>
                <div class="mt-6">
                    <label class="block text-sm font-medium text-[#34495E] mb-1">Catatan Atasan (Opsional)</label>
                    <textarea placeholder="Tambahkan catatan Anda..." class="w-full h-24 p-3 rounded-lg border border-[#DCE1E7] text-[#34495E] resize-none"></textarea>
                </div>
            </div>
            <div class="mt-8 flex space-x-4">
                <button id="btn-reject-request" class="flex-1 bg-[#E74C3C] text-white h-14 rounded-xl font-bold text-lg hover:bg-red-600 transition-colors">Tolak</button>
                <button id="btn-approve-request" class="flex-1 bg-[#27AE60] text-white h-14 rounded-xl font-bold text-lg hover:bg-green-600 transition-colors">Setujui</button>
            </div>
        </div>

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const screens = document.querySelectorAll('.screen');
            const navBottomButtons = document.querySelectorAll('.nav-bottom');
            const navBackButtons = document.querySelectorAll('.nav-back');
            const navBackToLoginButton = document.querySelector('.nav-back-login');
            const submissionItems = document.querySelectorAll('.submission-item');
            const managerApprovalItems = document.querySelectorAll('#screen-manager-approval-list .bg-white');

            let historyStack = ['screen-login'];
            let clockInTime = null;

            function showScreen(screenId) {
                screens.forEach(s => s.classList.remove('active-screen'));
                const targetScreen = document.getElementById(screenId);
                if (targetScreen) {
                    targetScreen.classList.add('active-screen');
                    // Update history stack, avoid duplicates at the end
                    if (historyStack[historyStack.length - 1] !== screenId) {
                        historyStack.push(screenId);
                    }
                    updateBottomNavActiveState(screenId);
                }
            }

            function goBack() {
                if (historyStack.length > 1) {
                    historyStack.pop(); // Remove current screen from stack
                    const previousScreenId = historyStack[historyStack.length - 1]; // Get the screen we want to go back to
                    screens.forEach(s => s.classList.remove('active-screen'));
                    document.getElementById(previousScreenId).classList.add('active-screen');
                    updateBottomNavActiveState(previousScreenId);
                } else {
                     showScreen('screen-login'); // Fallback to login if stack is empty
                }
            }
            
            function updateBottomNavActiveState(currentScreenId) {
                navBottomButtons.forEach(btn => {
                    if (btn.dataset.target === currentScreenId) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
            }

            navBackButtons.forEach(btn => btn.addEventListener('click', goBack));
            if (navBackToLoginButton) {
                navBackToLoginButton.addEventListener('click', (e) => {
                    e.preventDefault();
                    historyStack = ['screen-login'];
                    showScreen('screen-login');
                });
            }
            
            navBottomButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    historyStack.push(btn.dataset.target); // Ensure correct history for back button
                    showScreen(btn.dataset.target);
                });
            });

            submissionItems.forEach(item => {
                item.addEventListener('click', () => {
                    showScreen(item.dataset.target);
                });
            });

            managerApprovalItems.forEach(item => {
                item.addEventListener('click', () => {
                    const type = item.dataset.approvalType;
                    const applicant = item.dataset.applicant;
                    const date = item.dataset.date;
                    const reason = item.dataset.reason;
                    // For demo, just pass these as data attributes
                    document.getElementById('detail-type').textContent = `Pengajuan ${type}`;
                    document.getElementById('detail-applicant').textContent = applicant;
                    document.getElementById('detail-date').textContent = date;
                    document.getElementById('detail-reason').textContent = reason;
                    
                    const periodOrDurationEl = document.getElementById('detail-period-or-duration');
                    if (type === 'Cuti') {
                        periodOrDurationEl.innerHTML = `<span class="font-semibold">Periode:</span> ${item.querySelector('p:last-child').textContent.replace('Periode: ', '')}`;
                    } else if (type === 'Lembur') {
                        periodOrDurationEl.innerHTML = `<span class="font-semibold">Durasi:</span> ${item.querySelector('p:last-child').textContent.replace('Durasi: ', '')}`;
                    } else if (type === 'Override') {
                         periodOrDurationEl.innerHTML = `<span class="font-semibold">Detail:</span> ${item.querySelector('p:last-child').textContent.replace('Tanggal: ', '')}`;
                    }
                    
                    showScreen('screen-manager-approval-detail');
                });
            });

            // --- Logic Layar Login ---
            document.getElementById('btn-login-lanjut').addEventListener('click', () => {
                const nipInput = document.getElementById('nip');
                if (nipInput.value.length >= 6) { // Minimal 6 karakter untuk NIP
                    showScreen('screen-otp');
                    startOtpTimer();
                    const otpInputs = document.querySelectorAll('.otp-input');
                    otpInputs[0].focus(); // Focus on first OTP input
                } else {
                    alert("NIP harus diisi minimal 6 karakter.");
                }
            });

            // --- Logic Layar OTP ---
            const otpInputs = document.querySelectorAll('.otp-input');
            otpInputs.forEach((input, index) => {
                input.addEventListener('input', (e) => {
                    if (e.data && index < otpInputs.length - 1) {
                        otpInputs[index + 1].focus();
                    } else if (e.inputType === 'deleteContentBackward' && index > 0) {
                        otpInputs[index - 1].focus();
                    }
                });
                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Backspace' && input.value === '' && index > 0) {
                        otpInputs[index - 1].focus();
                    }
                });
            });

            let otpInterval;
            function startOtpTimer() {
                let timer = 30;
                const timerEl = document.getElementById('otp-timer');
                const timerTextEl = document.getElementById('otp-timer-text');
                const resendBtn = document.getElementById('btn-resend-otp');
                
                timerTextEl.classList.remove('hidden');
                resendBtn.classList.add('hidden');
                timerEl.textContent = timer;

                clearInterval(otpInterval); // Clear any existing timer
                otpInterval = setInterval(() => {
                    timer--;
                    timerEl.textContent = timer;
                    if (timer <= 0) {
                        clearInterval(otpInterval);
                        timerTextEl.classList.add('hidden');
                        resendBtn.classList.remove('hidden');
                    }
                }, 1000);
            }

            document.getElementById('btn-resend-otp').addEventListener('click', startOtpTimer);
            
            document.getElementById('btn-verifikasi').addEventListener('click', () => {
                const enteredOtp = Array.from(otpInputs).map(input => input.value).join('');
                if (enteredOtp.length === 6) { // Simulate successful OTP
                    clearInterval(otpInterval);
                    updateDashboard(false); // isClockedIn = false initially
                    historyStack = ['screen-dashboard']; // Reset history for clean dashboard entry
                    showScreen('screen-dashboard');
                } else {
                    alert("Silakan masukkan 6 digit kode OTP.");
                }
            });

            // --- Logic Dashboard ---
            function updateDashboard(isClockedIn) {
                const card = document.getElementById('dashboard-card');
                if (!isClockedIn) {
                    card.innerHTML = `
                        <h3 class="font-semibold text-lg text-[#34495E]">Status Absensi Anda Hari Ini</h3>
                        <p class="font-bold text-2xl text-[#E74C3C] my-4">Anda Belum Clock In</p>
                        <button id="btn-clock-in" class="w-full max-w-xs mx-auto bg-[#27AE60] text-white h-16 rounded-xl font-bold text-xl hover:bg-green-600 transition-colors flex items-center justify-center">üì∑ CLOCK IN</button>
                    `;
                    document.getElementById('btn-clock-in').addEventListener('click', () => {
                        showScreen('screen-face-rec');
                        simulateFaceRec();
                    });
                } else {
                    card.innerHTML = `
                        <h3 class="font-semibold text-lg text-[#34495E]">Status Absensi Anda Hari Ini</h3>
                        <p class="font-bold text-2xl text-[#27AE60] my-4">Anda Sudah Clock In</p>
                        <p class="text-sm text-[#7F8C8D]">Pada pukul ${clockInTime.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' })}</p>
                        <button id="btn-clock-out" class="w-full max-w-xs mx-auto mt-4 bg-[#F39C12] text-white h-16 rounded-xl font-bold text-xl hover:bg-orange-500 transition-colors flex items-center justify-center">üö™ CLOCK OUT</button>
                    `;
                     document.getElementById('btn-clock-out').addEventListener('click', () => {
                        alert("Anda berhasil Clock Out!");
                        clockInTime = null;
                        historyStack = ['screen-login'];
                        showScreen('screen-login');
                    });
                }
            }
            
            function updateDateTime() {
                const now = new Date();
                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                document.getElementById('current-date').textContent = now.toLocaleDateString('id-ID', options);
                document.getElementById('current-time').textContent = now.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
            }
            setInterval(updateDateTime, 1000);
            updateDateTime();

            // --- Logic Face Recognition ---
            function simulateFaceRec() {
                const statusEl = document.getElementById('face-rec-status');
                const spinnerEl = document.getElementById('face-rec-spinner');
                statusEl.textContent = "Memindai wajah...";
                spinnerEl.classList.remove('hidden');

                setTimeout(() => {
                    statusEl.textContent = "Absensi Berhasil!";
                    statusEl.classList.add('text-green-400');
                    spinnerEl.classList.add('hidden');
                    setTimeout(() => {
                        clockInTime = new Date();
                        updateDashboard(true);
                        historyStack = ['screen-dashboard']; // Reset history for clean dashboard entry
                        showScreen('screen-dashboard');
                        statusEl.textContent = "Posisikan wajah Anda";
                        statusEl.classList.remove('text-green-400');
                    }, 1500);
                }, 2000);
            }

            // --- Logic Pengajuan Cuti, Override, Lembur ---
            document.getElementById('btn-submit-leave').addEventListener('click', () => {
                alert("Pengajuan cuti berhasil dikirim!");
                goBack();
            });
            document.getElementById('btn-submit-override').addEventListener('click', () => {
                alert("Pengajuan override berhasil dikirim!");
                goBack();
            });
            document.getElementById('btn-submit-overtime').addEventListener('click', () => {
                alert("Pengajuan lembur berhasil dikirim!");
                goBack();
            });

            // --- Logic Profil ---
            document.getElementById('btn-logout').addEventListener('click', () => {
                alert("Anda telah berhasil keluar.");
                clockInTime = null;
                historyStack = ['screen-login'];
                showScreen('screen-login');
            });

            // --- Logic Persetujuan Atasan ---
            document.getElementById('btn-approve-request').addEventListener('click', () => {
                alert("Pengajuan telah Disetujui!");
                goBack(); // Back to approval list
            });
            document.getElementById('btn-reject-request').addEventListener('click', () => {
                alert("Pengajuan telah Ditolak!");
                goBack(); // Back to approval list
            });
            
        });
    </script>

</body>
</html>